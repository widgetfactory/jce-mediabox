/**
 * Inline development version. Only to be used while developing since it uses document.write to load scripts.
 */

/*jshint smarttabs:true, undef:true, latedef:true, curly:true, bitwise:true, camelcase:true */
/*globals $code */

(function(exports) {
    "use strict";

    var html = "", baseDir;

    var scripts = document.getElementsByTagName('script');
    for (var i = 0; i < scripts.length; i++) {
        var src = scripts[i].src;

        if (src.indexOf('/jcemediabox.min.js') != -1) {
            baseDir = src.substring(0, src.lastIndexOf('/'));
        }
    }

    function writeScripts() {
        document.write(html);
    }

    function load(path) {

        if (path.indexOf('.js') !== -1) {
            html += '<script type="text/javascript" src="' + baseDir + '/' + path + '"></script>\n';
        }

        if (path.indexOf('.css') !== -1) {
            html += '<link rel="stylesheet" type="text/css" href="' + baseDir + '/' + path + '" />\n';
        }
    }

    if (!window.jQuery) {
        load('../vendor/jquery/jquery-1.11.1.min.js');
    }

    load('lib/Mediabox.js');

    load('lib/Mime.js');
    load('lib/Env.js');
    load('lib/Entities.js');
    load('lib/Parameter.js');
    load('lib/Storage.js');
    load('lib/Base64.js');
    load('lib/Convert.js');
    load('lib/Addons.js');
    load('lib/Tools.js');
    load('lib/Svg.js');

    // addons
    load('lib/Plugins.js');

    ['bootstrap', 'light', 'shadow', 'squeeze', 'standard', 'uikit'].forEach(function(s) {
        load('../themes/' + s + '/js/template.js');
    });

    writeScripts();
})(this);
